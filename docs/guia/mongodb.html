<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MongoDB | Zeew</title>
    <meta name="description" content="Documentacion oficial de zeew">
    <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="icon" href="/logo.png">
    
    <link rel="preload" href="/assets/css/0.styles.37d6edfe.css" as="style"><link rel="preload" href="/assets/js/app.42ae2c5a.js" as="script"><link rel="preload" href="/assets/js/9.e49c318f.js" as="script"><link rel="prefetch" href="/assets/js/10.e1bae9d9.js"><link rel="prefetch" href="/assets/js/11.9e01db9d.js"><link rel="prefetch" href="/assets/js/12.99ea24b6.js"><link rel="prefetch" href="/assets/js/13.095e7c2f.js"><link rel="prefetch" href="/assets/js/14.ff441f9b.js"><link rel="prefetch" href="/assets/js/15.30863362.js"><link rel="prefetch" href="/assets/js/16.7df43e1a.js"><link rel="prefetch" href="/assets/js/17.f0a20d34.js"><link rel="prefetch" href="/assets/js/18.668fedbd.js"><link rel="prefetch" href="/assets/js/19.99ee544a.js"><link rel="prefetch" href="/assets/js/2.b55741ba.js"><link rel="prefetch" href="/assets/js/20.396042e0.js"><link rel="prefetch" href="/assets/js/21.d98cd15d.js"><link rel="prefetch" href="/assets/js/3.fdd178fd.js"><link rel="prefetch" href="/assets/js/4.75181fd8.js"><link rel="prefetch" href="/assets/js/5.cb8aecbe.js"><link rel="prefetch" href="/assets/js/6.5f2fdd94.js"><link rel="prefetch" href="/assets/js/7.463732bd.js"><link rel="prefetch" href="/assets/js/8.284e0aec.js">
    <link rel="stylesheet" href="/assets/css/0.styles.37d6edfe.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Zeew</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/init/" class="nav-link">Inicio</a></div><div class="nav-item"><a href="/info/" class="nav-link">Informacion</a></div><div class="nav-item"><a href="/docs/" class="nav-link router-link-active">Docs</a></div><div class="nav-item"><a href="https://discord.gg/6tCdxshm9w" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://zeew.dev" target="_blank" rel="noopener noreferrer" class="nav-link external">
  web
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/init/" class="nav-link">Inicio</a></div><div class="nav-item"><a href="/info/" class="nav-link">Informacion</a></div><div class="nav-item"><a href="/docs/" class="nav-link router-link-active">Docs</a></div><div class="nav-item"><a href="https://discord.gg/6tCdxshm9w" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://zeew.dev" target="_blank" rel="noopener noreferrer" class="nav-link external">
  web
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>API</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/docs/api/int.html" class="sidebar-link">Interaccion</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Modulos</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>FAQ</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="mongodb"><a href="#mongodb" class="header-anchor">#</a> MongoDB</h1> <h2 id="introduccion"><a href="#introduccion" class="header-anchor">#</a> Introducción</h2> <ul><li>Hola amigos de Zeew Dev's en el día de hoy vengo a presentarles una, guía de MongoDB</li> <li>Les hablaré un poco sobre MongoDB es una base de datos que actualmente es muy utilizada</li> <li>Esta base guarda tus datos en un Clúster para no ocupar espacio en tu proyecto como algunas otras, dB</li> <li>Espero que con esta, guía puedas introducirte en el tema de MongoDB</li></ul> <h2 id="creacion-de-la-cuenta-el-cluster"><a href="#creacion-de-la-cuenta-el-cluster" class="header-anchor">#</a> Creación de la cuenta &amp; el clúster</h2> <p>Primero ingresaremos en el siguiente link y crearemos una cuenta: https://www.mongodb.com/</p> <p>Cuando se registren les enviara a un apartado donde tienen que elegir un clúster. Le dan a crear nuevo clúster, le colocan un nombre, región donde estará ubicada la data base y creamos nuestro clúster</p> <p>Cuando creen un nuevo clúster les aparecerá que tienen que esperar de 1 a 3 minutos. Esperamos</p> <p><img src="https://i.gyazo.com/f11f21c3c5947f592aac7fa72a0012cd.png" alt></p> <p>Cuando ya lo tengamos así:</p> <p><img src="https://i.gyazo.com/f088d853561c6229505ee7abd9df902f.png" alt></p> <p>Le damos clic en &quot;connect&quot;.</p> <p>Nos aparecerá algo tal que así:</p> <p><img src="https://i.gyazo.com/8a5c8f54bf71e5c2dd1d811695e18448.png" alt></p> <p>Le damos en Add Your Current IP address y colocamos un nombre y una contraseña. Te recomiendo anotar la contraseña. Le damos a Create Database User</p> <p>Le damos a next y aparecerá algo tal que así:</p> <p><img src="https://i.gyazo.com/58caf55e455a44fefe13177df9056774.png" alt></p> <p>Le damos a la opción del medio.</p> <p>Nos aparecerá algo tal que así:</p> <p><img src="https://i.gyazo.com/f56ea22ef93f8b779676c3455c6f5a1e.png" alt></p> <p>Copiamos el link y donde dice <code>&lt;password&gt;</code> nosotros colocaremos la contraseña que colocamos hace un momento al momento de crear la DataBase. Recalco que debemos quitar los &lt;&gt;
Tal que así: mongodb+srv://pepe:tuContraseña@cluster0.sr5eu.mongodb.net/myFirstDatabase?retryWrites=true&amp;w=majority</p> <p>Le damos a &quot;Close&quot;.</p> <p>Le damos clic a Network Access y donde esta tu IP le damos a editar y colocaremos la IP: 0.0.0.0/0</p> <p><img src="https://i.gyazo.com/88c7d5812ba9d6840b06fcee1750071f.png" alt></p> <h2 id="conexion-a-la-base-de-datos-desde-tu-bot"><a href="#conexion-a-la-base-de-datos-desde-tu-bot" class="header-anchor">#</a> Conexión a la base de datos desde tu bot</h2> <ul><li>En tu Index.js colocaremos lo siguiente:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> mongoose <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mongoose'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Tenemos que tener instalado mongoose | npm i mongoose</span>
mongoose<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">'TuURLDeMongoDB'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token comment">//Creamos la conexion a MongoDB</span>
    <span class="token literal-property property">useCreateIndex</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">useNewUrlParser</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">useUnifiedTopology</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">useFindAndModify</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Estoy Conectado a MongoDB'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//Hacemos un .then dentro de el then colocaremos un console.log donde le diremos a la consola que cuando realize la conexion a mongodb envie Estoy Conectado a MongoDB</span>
</code></pre></div><p>Con esto ya tendríamos nuestra conexión ahora realizaré un pequeño ejemplo.</p> <h2 id="ejemplo"><a href="#ejemplo" class="header-anchor">#</a> Ejemplo</h2> <p>Creamos una carpeta llamada. Schema/Models a la altura del index.js
Dentro de la carpeta crearemos un archivo como quieran que se llame. Ejemplo: guía.js
Dentro de ese archivo colocaremos lo siguiente:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> mongoose <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mongoose'</span><span class="token punctuation">)</span><span class="token comment">//npm i mongoose</span>

<span class="token keyword">const</span> Schema <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mongoose<span class="token punctuation">.</span>Schema</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token comment">//Creamos un nuevo Schema/Model esto lo que hace es validar los datos antes de subirlo a la web</span>
<span class="token comment">//Valida los datos segun la informacion que tu requieres y que tu le des</span>
  <span class="token literal-property property">userId</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">texto</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Aqui adentro colocaremos lo que queremos que guarde. Le pueden colocar el nombre que quieran. Pero en type debes colocar: String, Boolean, Array, Number entre esas tienes que colocar existen mas pero esas son las basicas</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> mongoose<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token string">&quot;aqui colocas el nombre con el que quieres que se guarde dentro de el cluster&quot;</span><span class="token punctuation">,</span> Schema<span class="token punctuation">)</span><span class="token comment">//Y Exportamos</span>
</code></pre></div><p>Ya en nuestro index podremos empezar a guardar datos.</p> <h2 id="guardando-los-datos"><a href="#guardando-los-datos" class="header-anchor">#</a> Guardando los datos</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Schema <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./Schema/test'</span><span class="token punctuation">)</span><span class="token comment">//requrimos nuestro Modelo/Schema</span>
<span class="token keyword">const</span> Discord <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'discord.js'</span><span class="token punctuation">)</span><span class="token comment">//npm i discord.js</span>
<span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Discord<span class="token punctuation">.</span>Client</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//Creamos un nuevo Client</span>
client<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'messageCreate'</span><span class="token punctuation">,</span> <span class="token keyword">async</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token comment">//Realizamos un client.on o un nuevo evento</span>
<span class="token comment">//Quiero recalcar que esto es de Discord.Js no tiene nada que ver con MongoDB este evento que acabamos de crear es de la libreria de Discord.Js</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span>content<span class="token punctuation">.</span>startsWith <span class="token operator">===</span> <span class="token string">'.test'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//Aqui hacemos una funcion que si el mensaje empieza con .test envia el comando</span>

        <span class="token keyword">const</span> txt <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token comment">//Aqui recolectamos los argumentos que el usuario ingrese</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>txt<span class="token punctuation">)</span> <span class="token keyword">return</span> message<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token string">&quot;Debes colocar un texto&quot;</span><span class="token punctuation">)</span><span class="token comment">//Aqui si el usuario no ingresa un texto retornara y le enviara &quot;Debes colocar un texto&quot;</span>

        <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Schema</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token comment">//Aqui empezamos a meter los datos a el Schema/Model</span>
            <span class="token literal-property property">userId</span><span class="token operator">:</span> message<span class="token punctuation">.</span>author<span class="token punctuation">.</span>id<span class="token punctuation">,</span><span class="token comment">//Ingresamos el id de el author de el mensaje</span>
            <span class="token literal-property property">texto</span><span class="token operator">:</span> txt<span class="token comment">//Ingresamos el texto</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token keyword">await</span> data<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//Guardamos la data</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>Con esto terminamos nuestro ejemplo. Algunos se preguntarán como puedo eliminar un dato. Así que realizaremos un ejemplo</p> <h2 id="eliminar-datos"><a href="#eliminar-datos" class="header-anchor">#</a> Eliminar datos</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Schema <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./Schema/test'</span><span class="token punctuation">)</span><span class="token comment">//Mandamos a llamar nuestro archivo/model</span>
<span class="token keyword">const</span> Discord <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'discord.js'</span><span class="token punctuation">)</span><span class="token comment">//npm i discord.js</span>
<span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Discord<span class="token punctuation">.</span>Client</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//Creamos un nuevo Client</span>
client<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'messageCreate'</span><span class="token punctuation">,</span> <span class="token keyword">async</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token comment">//Realizamos un client.on o un nuevo evento</span>
<span class="token comment">//Quiero recalcar que esto es de Discord.Js no tiene nada que ver con MongoDB este evento que acabamos de crear es de la libreria de Discord.Js</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span>content <span class="token operator">===</span> <span class="token string">'.borrar'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//Aqui hacemos una funcion que si el mensaje empieza con .borrar envia el comando</span>
        <span class="token keyword">const</span> data <span class="token operator">=</span> Schema<span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token comment">//Abrimos para empezar a buscar nuestros datos</span>
            <span class="token literal-property property">userId</span><span class="token operator">:</span> message<span class="token punctuation">.</span>author<span class="token punctuation">.</span>id <span class="token comment">//Buscamos el id de la persona </span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        data <span class="token operator">?</span> data<span class="token punctuation">.</span><span class="token function">findOneAndDelete</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">userId</span><span class="token operator">:</span> message<span class="token punctuation">.</span>author<span class="token punctuation">.</span>id <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">:</span> message<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token string">&quot;No encontre datos&quot;</span><span class="token punctuation">)</span>
        <span class="token comment">//Realizamos la funcion de ? : esta funcion lo que nos permite hacer es que si los datos existen realiza la funcion siguiente y si no existe pues retorna</span>
        <span class="token comment">//Explicare rapidamente</span>
        <span class="token comment">//Si la data existe buscamos y encontramos el ID de la persona y la eliminamos y si no existe enviamos a el canal &quot;No encontre datos&quot;</span>
    <span class="token punctuation">}</span><span class="token comment">//Cerramos nuestro if</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">//Cerramos nuestro evento</span>
</code></pre></div><h2 id="actualizar-datos"><a href="#actualizar-datos" class="header-anchor">#</a> Actualizar datos</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Schema <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./Schema/test'</span><span class="token punctuation">)</span><span class="token comment">//Mandamos a llamar nuestro archivo/model</span>
<span class="token keyword">const</span> Discord <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'discord.js'</span><span class="token punctuation">)</span><span class="token comment">//npm i discord.js</span>
<span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Discord<span class="token punctuation">.</span>Client</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//Creamos un nuevo Client</span>
client<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'messageCreate'</span><span class="token punctuation">,</span> <span class="token keyword">async</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token comment">//Realizamos un client.on o un nuevo evento</span>
<span class="token comment">//Quiero recalcar que esto es de Discord.Js no tiene nada que ver con MongoDB este evento que acabamos de crear es de la libreria de Discord.Js</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span>content <span class="token operator">===</span> <span class="token string">'.actualizar'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//Aqui hacemos una funcion que si el mensaje empieza con .actualizar envia el comando</span>
    

       <span class="token keyword">const</span> buscar <span class="token operator">=</span> <span class="token keyword">await</span> Schema<span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">userId</span><span class="token operator">:</span> message<span class="token punctuation">.</span>author<span class="token punctuation">.</span>id <span class="token punctuation">}</span><span class="token punctuation">)</span>
       <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>buscar<span class="token punctuation">)</span> <span class="token keyword">return</span> message<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token string">&quot;No encontre datos con tu id&quot;</span><span class="token punctuation">)</span>
       <span class="token comment">//Aqui lo que hacemos es buscar los datos y si no encuentra los datos enviamos el mensaje &quot;No encontre datos con tu id&quot;</span>

       <span class="token keyword">const</span> txtNew <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token comment">//capturamos los argumentos que la persona escriba</span>
       <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>txtNew<span class="token punctuation">)</span> <span class="token keyword">return</span> message<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token string">&quot;Debes ingresar el nuevo texto&quot;</span><span class="token punctuation">)</span><span class="token comment">//Si no ingresa retornamos con el mensaje</span>

       <span class="token keyword">const</span> guardar <span class="token operator">=</span> Schema<span class="token punctuation">.</span><span class="token function">findOneAndUpdate</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">userId</span><span class="token operator">:</span> message<span class="token punctuation">.</span>author<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">texto</span><span class="token operator">:</span> txtNew<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">//Guardamos los datos</span>

       <span class="token keyword">await</span> guardar<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

           message<span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&quot;Eh tenido un error&quot;</span><span class="token punctuation">)</span>
           console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
           <span class="token keyword">return</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">//Guardamos los datos y si tenemos algun error lo captamos en la consola y enviamos a el canal donde se ejecuto el mensaje que el bot tuvo un error a el intentar guardar los datos</span>


    <span class="token punctuation">}</span><span class="token comment">//Cerramos nuestro if</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">//Cerramos nuestro evento</span>
</code></pre></div><h2 id="finalizacion"><a href="#finalizacion" class="header-anchor">#</a> Finalización</h2> <ul><li>Con esto ya tendríamos nuestra base de datos espero que haya sido de tu utilidad la información que acabo de dar, espero que empieces a usar MongoDB y si tienes alguna duda te dejo aquí abajo el Discord de Zeew para que entres y me preguntes cualquier duda o fallo que tengas</li></ul> <h2 id="links"><a href="#links" class="header-anchor">#</a> Links</h2> <table><thead><tr><th style="text-align:center">Librerías</th> <th style="text-align:center">Links</th></tr></thead> <tbody><tr><td style="text-align:center">MongoDB</td> <td style="text-align:center"><a href="https://www.mongodb.com/" target="_blank" rel="noopener noreferrer">Clic Aquí<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td style="text-align:center">Mongoose</td> <td style="text-align:center"><a href="https://mongoosejs.com" target="_blank" rel="noopener noreferrer">Clic Aquí<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td style="text-align:center">Discord</td> <td style="text-align:center"><a href="https://discord.gg/6tCdxshm9w" target="_blank" rel="noopener noreferrer">Clic Aquí<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr></tbody></table> <div align="center"><small>Zeew.Dev © ▫ Todos los derechos reservados</small> <br> <p>Author: zjuqn</p></div></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">9/11/2022, 4:22:54 AM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.42ae2c5a.js" defer></script><script src="/assets/js/9.e49c318f.js" defer></script>
  </body>
</html>
